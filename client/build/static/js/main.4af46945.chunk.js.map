{"version":3,"sources":["utils/validateEmail.js","utils/validateName.js","services/auth.service.js","components/App/index.js","utils/isNumeric.js","services/sendEmail.js","components/Table/index.js","components/Signin/index.js","components/NotFound/index.js","index.js"],"names":["validateEmail","email","test","validateName","name","API_URL","register","password","axios","post","login","then","response","data","accessToken","localStorage","setItem","JSON","stringify","App","useState","setName","nameError","setNameError","setEmail","emailError","setEmailError","setPassword","confirmPassword","setConfirmPassword","passwordError","setPasswordError","pswdLengthError","setPswdLengthError","errorMsg","setErrorMsg","loading","setLoading","redirect","setRedirect","redirectLogin","setRedirectLogin","useEffect","length","handleSubmit","event","a","preventDefault","catch","err","to","className","value","onChange","e","target","type","placeholder","onClick","isNumeric","str","isNaN","parseFloat","sendEmail","idOp","rate","create","transformRequest","_headers","process","includes","parseInt","headers","loadInitialState","doc","GoogleSpreadsheet","useServiceAccountAuth","client_email","private_key","replace","loadInfo","sheet","sheetsById","getRows","rows","console","error","Table","useAsync","errorsIndices","setErrorsIndices","logoutReady","setLogoutReady","previousData","setPreviousData","useEmail","setUseEmail","currentUser","parse","getItem","handleBlur","row","save","handleLogout","removeItem","map","style","height","width","margin","index","defaultValue","onBlur","originalColor","filter","errorIndex","backgroundColor","handleChange","forEach","window","location","reload","Signin","NotFound","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.4af46945.chunk.js","sourcesContent":["const validateEmail = email => {\n    // eslint-disable-next-line no-control-regex\n    const re = /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/\n    return re.test(email);\n}\n\nexport default validateEmail;","const validateName = name => {\n    const re = /^[a-zA-Z]+( [a-zA-Z]+)*$/;\n    return re.test(name);\n}\n\nexport default validateName;","import axios from \"axios\";\n\n\nconst API_URL = \"https://prueba-tecnica-llloyola.herokuapp.com/api/auth/\";\n\nconst register = (name, email, password) => {\n  return axios.post(API_URL + \"signup\", {\n    name,\n    email,\n    password,\n  });\n};\n\nconst login = (email, password) => {\n  return axios\n    .post(API_URL + \"signin\", {\n      email,\n      password,\n    })\n    .then((response) => {\n      if (response.data.accessToken) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nconst getCurrentUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nexport {\n  register,\n  login,\n  logout,\n  getCurrentUser,\n};","import React, { useState, useEffect } from 'react';\nimport validateEmail from '../../utils/validateEmail';\nimport validateName from '../../utils/validateName';\nimport { register, login } from '../../services/auth.service';\nimport { Navigate } from \"react-router-dom\";\n//import Table from '../Table/index'\nimport './App.css';\n\n//<Link to=\"/signup\">Sign up</Link>\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [nameError, setNameError] = useState(\"\");\n\n  const [email, setEmail] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [pswdLengthError, setPswdLengthError] = useState(\"\");\n\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n\n  const [redirect, setRedirect] = useState(false);\n  const [redirectLogin, setRedirectLogin] = useState(false);\n\n  useEffect(() => {\n    setErrorMsg(\"\");\n    if (!name) {\n      setNameError('');\n    } else {\n      if (validateName(name)) {\n        setNameError('');\n      } else {\n        setNameError('Please use only letters and spaces.');\n      }\n    }\n  }, [name]);\n\n  useEffect(() => {\n    setErrorMsg(\"\");\n    if (!email) {\n      setEmailError(\"\");\n    } else {\n      if (validateEmail(email)) {\n        setEmailError(\"\");\n      } else {\n        setEmailError(\"Please enter a valid email.\");\n      }\n    }\n  }, [email]);\n\n  useEffect(() => {\n    setErrorMsg(\"\");\n    if (!confirmPassword || !password) {\n      setPasswordError(\"\");\n    } else {\n      if (password !== confirmPassword) {\n        setPasswordError(\"The passwords must match.\");\n      } else {\n        setPasswordError(\"\");\n      }\n    }\n  }, [password, confirmPassword]);\n\n  useEffect(() => {\n    setErrorMsg(\"\");\n    if (!password) {\n      setPswdLengthError(\"\");\n    } else {\n      if (password.length < 8) {\n        setPswdLengthError(\"Password must have at least 8 characters.\");\n      } else {\n        setPswdLengthError(\"\");\n      }\n    }\n  }, [password]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const error = !name || !validateName(name) || !email || !validateEmail(email) || !password || !confirmPassword || password !== confirmPassword || password.length < 8;\n    if (error) {\n      setErrorMsg(\"Complete every field correctly to sign up!\");\n    } else {\n      setLoading(true);\n      await register(name, email, password)\n        .then(() => {\n          login(email, password);\n        })\n        .then(response => {\n          setLoading(false);\n          setRedirect(true);\n        })\n        .catch(err => {\n          setErrorMsg(\"Email is already in use!\");\n          setLoading(false);\n        });\n    }\n  }\n\n  const handleRedirect = (event) => {\n    event.preventDefault();\n    setRedirectLogin(true);\n  }\n\n  return (\n    <> \n      {redirectLogin ? <Navigate to=\"/signin\"/> : (\n        redirect ? <Navigate to=\"/table\"/> : (\n          <div className='App'>\n            <form>\n              <h3>Please sign up</h3>\n              <input\n                value={name}\n                onChange={e => setName(e.target.value)}\n                type=\"text\"\n                placeholder=\"Name\"\n              />\n              <div className=\"error\">{nameError}</div>\n  \n              <input\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                type=\"text\"\n                placeholder=\"Email\"\n              />\n              <div className=\"error\">{emailError}</div>\n  \n              <input\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n              <div className=\"error\">{pswdLengthError}</div>\n  \n              <input\n                value={confirmPassword}\n                onChange={e => setConfirmPassword(e.target.value)}\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n              />\n              <div className=\"error\">{passwordError}</div>\n  \n              <button \n                onClick={e => handleSubmit(e)}\n              >\n                  {loading ? \"Loading...\" : \"Submit\"}\n              </button>\n              <div className=\"error\">{errorMsg}</div>\n            </form>\n            <h4>Already have an account?</h4>\n            <button onClick={e => handleRedirect(e)}>Sign in!</button>\n          </div>\n        )\n      )}\n    </>\n    \n  );\n}\n\nexport default App;\n","const isNumeric = str => {\n    if (typeof str != \"string\") return false;\n    return !isNaN(str) && !isNaN(parseFloat(str)) && str[str.length - 1] !== '.';\n}\n\nexport default isNumeric;","import axios from \"axios\";\n\n\nconst zapierLink = process.env.REACT_APP_ZAPIER_LINK;\n\nconst sendEmail = (idOp, rate, email) => {\n    return axios.create({ transformRequest: [(data, _headers) => JSON.stringify(data)] })\n        .post(zapierLink, {\n            'idOp' : idOp,\n            'tasa' : rate.includes('.') ? parseFloat(rate) : parseInt(rate),\n            'email' : email\n        }, {\n            headers: {'Accept': 'application/json'}\n            }\n        );\n}\n\nexport default sendEmail;","import React, { useState } from 'react';\nimport { useAsync } from \"react-use\";\nimport { Navigate } from 'react-router-dom';\nimport { GoogleSpreadsheet } from 'google-spreadsheet';\nimport { getCurrentUser, logout } from '../../services/auth.service';\nimport isNumeric from '../../utils/isNumeric';\nimport sendEmail from '../../services/sendEmail';\nimport './Table.css';\n\n// Config variables\nconst SPREADSHEET_ID = process.env.REACT_APP_SPREADSHEET_ID;\nconst SHEET_ID = process.env.REACT_APP_SHEET_ID;\nconst CLIENT_EMAIL = process.env.REACT_APP_GOOGLE_CLIENT_EMAIL;\nconst PRIVATE_KEY = process.env.REACT_APP_GOOGLE_SERVICE_PRIVATE_KEY;\n\nconst loadInitialState = async () => {\n  // Initialize the sheet\n  const doc = new GoogleSpreadsheet(SPREADSHEET_ID);\n\n  try {\n    await doc.useServiceAccountAuth({\n      client_email: CLIENT_EMAIL,\n      private_key: PRIVATE_KEY.replace(/\\\\n/g, '\\n'),\n    });\n\n    // loads document properties and worksheets\n    await doc.loadInfo();\n    const sheet = doc.sheetsById[SHEET_ID];\n    const rows = await sheet.getRows();\n\n    return rows;\n  }\n  catch (e) {\n    console.error('Error: ', e);\n    return null;\n  }\n}\n\nfunction Table() {\n    const data = useAsync(loadInitialState, []);\n\tconst [errorsIndices, setErrorsIndices] = useState([]);\n\tconst [logoutReady, setLogoutReady] = useState(false);\n\tconst [previousData, setPreviousData] = useState([]);\n\tconst [useEmail ,setUseEmail] = useState(false);\n\n\tconst currentUser = getCurrentUser();\n\n\tconst handleChange = (event, index) => {\n\t\tconst originalColor = index % 2 ? '#f2f2f2' : 'white';\n\t\tconst str = event.target.value;\n\n\t\tif (!isNumeric(str) && !errorsIndices.includes(index)) {\n\t\t\tsetErrorsIndices([...errorsIndices, index]);\n\t\t} else if (isNumeric(str) && errorsIndices.includes(index)) {\n\t\t\tsetErrorsIndices(errorsIndices.filter(errorIndex => errorIndex !== index));\n\t\t}\n\t\t\n\t\tevent.target.style.backgroundColor = !isNumeric(str) ? 'rgb(227, 87, 87)' : originalColor;\n\t}\n\n\tconst handleBlur = async (event, row) => {\n\t\tconst str = event.target.value;\n\n\t\tif (isNumeric(str)) {\n\t\t\trow['Tasa'] = str;\n\t\t\tawait row.save();\n\t\t\tawait sendEmail(row['id Op'], row['Tasa'], \"llloyola@uc.cl\")\n\t\t\t\t.then(() => {\n\t\t\t\t\tsendEmail(row['id Op'], row['Tasa'], currentUser['email']);\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleLogout = (event) => {\n\t\tevent.preventDefault();\n\t\tlogout();\n\t\tsetLogoutReady(true);\n\t}\n\n\tif (data.value && !previousData.length) {\n\t\tsetPreviousData(data.value.map((row) => ({'id Op': row['id Op'], 'Tasa': row['Tasa']})));\n\t}\n\n\tconst handleRevert = (event) => {\n\t\tevent.preventDefault();\n\t\tdata.value.forEach(async (row, index) => {\n\t\t\trow['Tasa'] = previousData[index]['Tasa'];\n\t\t\tawait row.save();\n\t\t});\n\t\twindow.location.reload();\n\t}\n \n    return (\n\t\t<>\n\t\t\t{logoutReady || !currentUser ? <Navigate to=\"/\"/> : (\n\t\t\t\t<>\n\t\t\t\t\t<div className='navbar'>\n\t\t\t\t\t\t<h2>{currentUser ? `Hi, ${currentUser.name}!` : ''}</h2>\n\t\t\t\t\t\t<h2>Welcome to Luis' Internship Test</h2>\n\t\t\t\t\t\t<button onClick={e => handleLogout(e)}>Log out</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='table-container' style={{ height: 500, width: 500, margin: 'auto' }}>\n\t\t\t\t\t\t{data.error\n\t\t\t\t\t\t\t? <h3> An error has ocurred </h3>\n\t\t\t\t\t\t\t: data.loading\n\t\t\t\t\t\t\t\t? <h3>Loading...</h3>\n\t\t\t\t\t\t\t\t: <>\n\t\t\t\t\t\t\t\t\t<table>\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Id</th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Rate</th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{data.value && data.value.map((row, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={row['id Op']}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{row['id Op']}</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='rate'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={row['Tasa']}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={event => {handleBlur(event, row)}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={event => handleChange(event, index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className='error-msg'>{errorsIndices.includes(index) ? \"Invalid number\" : \"\"}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t{currentUser\n\t\t\t\t\t\t\t\t\t\t? (<button className=\"email\" onClick={() => setUseEmail(!useEmail)}>{useEmail\n\t\t\t\t\t\t\t\t\t\t\t? <span>{`Don't send changes to ${currentUser['email']}`}</span>\n\t\t\t\t\t\t\t\t\t\t\t: <span>{`Send changes to ${currentUser['email']}`}</span>}\n\t\t\t\t\t\t\t\t\t\t\t</button>)\n\t\t\t\t\t\t\t\t\t\t:  <button className=\"email\">Loading data...</button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<button className=\"revert\" onClick={e => handleRevert(e)}>Revert changes</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n      );\n}\n\nexport default Table;","import React, { useState, useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport validateEmail from '../../utils/validateEmail';\nimport { login } from '../../services/auth.service';\nimport './Signin.css';\n\n\nfunction Signin() {\n    const [email, setEmail] = useState(\"\");\n    const [emailError, setEmailError] = useState(\"\");\n  \n    const [password, setPassword] = useState(\"\");\n\n    const [errorMsg, setErrorMsg] = useState(\"\");\n  \n    const [loading, setLoading] = useState(false);\n  \n    const [redirect, setRedirect] = useState(false);\n  \n    const handleSubmit = async (event) => {\n      event.preventDefault();\n      const error = !email || !validateEmail(email) || !password;\n      if (error) {\n        setErrorMsg(\"Complete every field correctly to sign in!\");\n      } else {\n        setLoading(true);\n        await login(email, password)\n          .then(response => {\n            setLoading(false);\n            setRedirect(true);\n          })\n          .catch(err => {\n            setLoading(false);\n            setErrorMsg(\"Email doesn't match the password. Try again.\");\n          });\n      }\n    }\n  \n    useEffect(() => {\n        setErrorMsg(\"\");\n        if (!email) {\n          setEmailError(\"\");\n        } else {\n          if (validateEmail(email)) {\n            setEmailError(\"\");\n          } else {\n            setEmailError(\"Please enter a valid email.\");\n          }\n        }\n      }, [email]);\n  \n    return (\n      <> \n        {redirect ? <Navigate to=\"/table\"/> : (\n          <div className='signin'>\n            <form>\n              <h3>Please sign in</h3>\n              <input\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                type=\"text\"\n                placeholder=\"Email\"\n              />\n              <div className=\"error\">{emailError}</div>\n  \n              <input\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n              <div className=\"error\">{\"\"}</div>\n  \n              <button \n                onClick={e => handleSubmit(e)}\n              >\n                  {loading ? \"Loading...\" : \"Submit\"}\n              </button>\n              <div className=\"error\">{errorMsg}</div>\n            </form>\n          </div>\n        )}\n      </>\n      \n    );\n  }\n  \n  export default Signin;\n","import React from 'react';\nimport './NotFound.css';\n\n\nconst NotFound = () => {\n    return (\n        <>\n            <div className='navbar'>\n                <h2>Welcome to Luis' Internship Test</h2>\n            </div>\n            <h3>Nothing to look in here!</h3>\n        </>\n    )\n}\n\nexport default NotFound;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter,\n  Routes,\n  Route\n} from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App/index';\nimport Table from './components/Table/index';\nimport Signin from './components/Signin/index';\nimport NotFound from './components/NotFound/index';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Routes>\n      <Route path=\"/\" element={<App />} />\n      <Route path=\"/signin\" element={<Signin />} />\n      <Route path=\"/table\" element={<Table />} />\n      <Route path=\"*\" element={<NotFound />} />\n    </Routes>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}